import{r as c,j as s}from"./main-955.js";import{c as b}from"./bi.223.0.js";import{T as A}from"./bi.300.11.js";const k=({authData:t,setAuthData:m,selectedUserIndex:a,setSelectedUserIndex:l,isInfo:e,setIsLoading:u})=>{const[h,i]=c.useState(null),r=c.useRef(null),f=(n,o)=>{u(!0),b(n,"auth/account/delete").then(d=>{d.success&&(m(N=>N.filter(C=>C.id!==n)),a===o?l(t.length-2):a!==o&&o<=a&&l(a-1),u(!1))}),i(null)},j=n=>{l(n)},v=n=>{i(n)},p=()=>{i(null)};return c.useEffect(()=>{const n=o=>{r.current&&!r.current.contains(o.target)&&i(null)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]),c.useEffect(()=>{t.length===1&&!e?l(0):a===null&&!e&&l(t.length-1)},[t]),s.jsx("div",{className:"user-radio-input",children:s.jsx("div",{className:"auth-list",children:t.map((n,o)=>s.jsxs("div",{className:`auth-item ${a===o?"active":""}`,children:[s.jsxs("label",{className:"auth-label",children:[s.jsx("input",{type:"radio",name:"auth",value:o,checked:a===o,onChange:()=>j(o),className:"radio-input"}),s.jsxs("div",{className:"auth-info",children:[s.jsx("img",{src:n.userInfo.user.photoLink,alt:"User Avatar",className:"user-avatar"}),s.jsxs("div",{children:[s.jsx("div",{className:"user-name",children:n.userInfo.user.displayName}),s.jsx("div",{className:"user-email",children:n.userInfo.user.emailAddress})]})]})]}),!e&&s.jsx("div",{className:"delete-section",children:h===o?s.jsxs("div",{className:"confirmation-popover",ref:r,children:[s.jsx("p",{children:"Are you sure?"}),s.jsx("button",{className:"confirm-button",onClick:()=>f(n.id,o),children:"Yes"}),s.jsx("button",{className:"cancel-button",onClick:p,children:"No"})]}):s.jsx("button",{className:"delete-button",onClick:()=>v(o),children:s.jsx(A,{})})})]},o))})})};var L=k;export{L as A};
