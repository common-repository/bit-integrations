import{u as I,l as S,e as d,i as E,r as l,j as s}from"./main-80.js";import{g as C,$ as j,h as L,d as N,_ as f,i as b,I as v,c as t,s as R}from"./bi.433.0.js";import{h as w,O,c as i,T as a}from"./bi.747.889.js";import{H as D}from"./bi.120.890.js";import"./bi.895.650.js";import"./bi.194.651.js";function Y({allIntegURL:p}){const u=I(),{id:F,formID:T}=S(),[e,n]=d(C),[o,m]=d(j),c=E(L),[g,_]=l.useState(!1),[P,r]=l.useState({show:!1}),[k,x]=l.useState({auth:!1,customFields:!1,options:!1,contacts:!1,users:!1,hlTasks:!1,pipelines:!1,opportunities:!1}),A=()=>{if(!O.includes(e.selectedTask)&&!i(e)){t.error("Please map all required fields to continue!");return}if(!(e!=null&&e.selectedTask)){t.error("Please select task to continue!");return}if(e.selectedTask===a.UPDATE_CONTACT&&!e.selectedContact&&!i(e)){t.error("Please select a contact or map fields!");return}if((e.selectedTask===a.CREATE_TASK||e.selectedTask===a.UPDATE_TASK)&&!e.selectedContact&&!i(e)){t.error("Please select a contact or map fields!");return}if(e.selectedTask===a.UPDATE_TASK&&!e.updateTaskId&&!i(e)){t.error("Please select a task or map fields!");return}if(e.selectedTask===a.CREATE_OPPORTUNITY||e.selectedTask===a.UPDATE_OPPORTUNITY){if(!e.selectedPipeline){t.error("Please select a pipeline!");return}if(!e.selectedStage){t.error("Please select a stage!");return}if(!e.selectedTaskStatus){t.error("Please select a status!");return}}e.field_map.length>0&&R({flow:o,setFlow:m,allIntegURL:p,navigate:u,conf:e,edit:1,setIsLoading:_,setSnackbar:r})};return s.jsxs("div",{style:{width:900},children:[s.jsx(N,{snack:P,setSnackbar:r}),s.jsxs("div",{className:"flx mt-3",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:f("Integration Name:","bit-integrations")}),s.jsx("input",{className:"btcd-paper-inp w-5",onChange:h=>w(h,e,n),name:"name",value:e.name,type:"text",placeholder:f("Integration Name...","bit-integrations")})]}),s.jsx("br",{}),s.jsx(b,{entity:o.triggered_entity,setSnackbar:r}),s.jsx(D,{formID:T,formFields:c,highLevelConf:e,setHighLevelConf:n,loading:k,setLoading:x}),s.jsx(v,{edit:!0,saveConfig:A,disabled:!e.selectedTask,isLoading:g,dataConf:e,setDataConf:n,formFields:c}),s.jsx("br",{})]})}export{Y as default};
